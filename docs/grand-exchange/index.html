<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grand Exchange — Wilderness Wiki</title>
  <link rel="stylesheet" href="../style.css">
</head>
<body>
  <div class="navbar">
    <div class="logo"><span>Wilderness</span> Wiki</div>
    <nav>
      <a href="../index.html">Home</a>
      <a href="../npcs/index.html">NPCs</a>
      <a href="../items/index.html">Items</a>
      <a href="../commands/index.html">Commands</a>
      <a href="../grand-exchange/index.html" class="active">Grand Exchange</a>
    </nav>
      <a href="https://discord.com/invite/paws-of-fury" target="_blank" class="discord-btn"><svg viewBox="0 0 24 24"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03z"/></svg>Join Discord</a>
    <div class="search-wrapper">
      <input type="text" class="search-input" placeholder="Search wiki...">
      <div class="search-dropdown"></div>
    </div>
  </div>
  <div class="container">
    <div class="breadcrumb"><a href="../index.html">Home</a><span class="sep">/</span>Grand Exchange</div>

    <div class="page-header">
      <h1>Grand Exchange</h1>
      <div class="subtitle">Search item prices, view active buy &amp; sell offers, and find guide prices for all tradeable items.</div>
    </div>

    <div class="ge-search-container">
      <div class="ge-search-wrapper">
        <input type="text" class="ge-search-input" placeholder="Search for an item..." autocomplete="off" id="ge-search">
        <div class="ge-suggestions" id="ge-suggestions"></div>
      </div>
    </div>

    <div class="ge-filters">
      <button class="ge-filter-btn active" data-cat="all">All Items</button>
        <button class="ge-filter-btn" data-cat="melee_weapons">Melee</button>
        <button class="ge-filter-btn" data-cat="range_weapons">Range</button>
        <button class="ge-filter-btn" data-cat="magic_weapons">Magic</button>
        <button class="ge-filter-btn" data-cat="necro_weapons">Necro</button>
        <button class="ge-filter-btn" data-cat="armour">Armour</button>
        <button class="ge-filter-btn" data-cat="accessories">Accessories</button>
        <button class="ge-filter-btn" data-cat="food">Food</button>
        <button class="ge-filter-btn" data-cat="potions">Potions</button>
        <button class="ge-filter-btn" data-cat="ammo">Ammo</button>
        <button class="ge-filter-btn" data-cat="runes">Runes</button>
        <button class="ge-filter-btn" data-cat="materials">Materials</button>
        <button class="ge-filter-btn" data-cat="valuables">Valuables</button>
    </div>

    <div class="ge-summary" id="ge-summary"></div>

    <table class="ge-table">
      <thead>
        <tr>
          <th class="ge-th-item">Item</th>
          <th class="ge-th-price">Guide Price</th>
          <th class="ge-th-price">Buy Offer</th>
          <th class="ge-th-price">Sell Offer</th>
        </tr>
      </thead>
      <tbody id="ge-tbody"></tbody>
    </table>

    <div class="ge-note">
      <p>Prices are updated each time the wiki is regenerated. Use <code>!w ge</code> in-game for live offers.</p>
    </div>
  </div>
  <div class="footer">Wilderness Wiki</div>
  <script src="../search.js"></script>
  <script>
  (function() {
    var ITEMS = [{"name":"Starter Sword","slug":"starter-sword","guide":0,"buy":0,"sell":0,"cat":"melee_weapons","img":"../images/items/starter%20sword.png"},{"name":"Starter Platebody","slug":"starter-platebody","guide":0,"buy":0,"sell":0,"cat":"armour","img":"../images/items/starter%20platebody.png"},{"name":"Rune dagger","slug":"rune-dagger","guide":6000,"buy":0,"sell":0,"cat":"melee_weapons","img":"../images/items/rune%20dagger.png"},{"name":"Rune scimitar","slug":"rune-scimitar","guide":8000,"buy":0,"sell":0,"cat":"melee_weapons","img":"../images/items/rune%20scimitar.png"},{"name":"Dragon dagger","slug":"dragon-dagger","guide":25000,"buy":0,"sell":0,"cat":"melee_weapons","img":"../images/items/dragon%20dagger.png"},{"name":"Dragon scimitar","slug":"dragon-scimitar","guide":45000,"buy":0,"sell":0,"cat":"melee_weapons","img":"../images/items/dragon%20scimitar.png"},{"name":"Abyssal Whip","slug":"abyssal-whip","guide":120000,"buy":0,"sell":0,"cat":"melee_weapons","img":""},{"name":"Abyssal Scourge","slug":"abyssal-scourge","guide":180000,"buy":0,"sell":0,"cat":"melee_weapons","img":""},{"name":"Dragon 2h sword","slug":"dragon-2h-sword","guide":75000,"buy":0,"sell":0,"cat":"melee_weapons","img":"../images/items/dragon%202h%20sword.png"},{"name":"Veilbreaker","slug":"veilbreaker","guide":350000,"buy":0,"sell":0,"cat":"melee_weapons","img":""},{"name":"Viggora's Chainmace","slug":"viggoras-chainmace","guide":150000,"buy":0,"sell":0,"cat":"melee_weapons","img":""},{"name":"Abyssal Chainmace","slug":"abyssal-chainmace","guide":500000,"buy":0,"sell":0,"cat":"melee_weapons","img":""},{"name":"Rotwood shortbow","slug":"rotwood-shortbow","guide":4000,"buy":0,"sell":0,"cat":"range_weapons","img":""},{"name":"Whisperwood bow","slug":"whisperwood-bow","guide":18000,"buy":0,"sell":0,"cat":"range_weapons","img":""},{"name":"Ironwood bow","slug":"ironwood-bow","guide":40000,"buy":0,"sell":0,"cat":"range_weapons","img":""},{"name":"Hexwood bow","slug":"hexwood-bow","guide":65000,"buy":0,"sell":0,"cat":"range_weapons","img":""},{"name":"Bone crossbow","slug":"bone-crossbow","guide":120000,"buy":0,"sell":0,"cat":"range_weapons","img":""},{"name":"Nightfall bow","slug":"nightfall-bow","guide":280000,"buy":0,"sell":0,"cat":"range_weapons","img":""},{"name":"Galestaff","slug":"galestaff","guide":4000,"buy":0,"sell":0,"cat":"magic_weapons","img":""},{"name":"Tidestaff","slug":"tidestaff","guide":18000,"buy":0,"sell":0,"cat":"magic_weapons","img":""},{"name":"Stonestaff","slug":"stonestaff","guide":40000,"buy":0,"sell":0,"cat":"magic_weapons","img":""},{"name":"Flamestaff","slug":"flamestaff","guide":65000,"buy":0,"sell":0,"cat":"magic_weapons","img":""},{"name":"Voidtouched wand","slug":"voidtouched-wand","guide":120000,"buy":0,"sell":0,"cat":"magic_weapons","img":""},{"name":"Soulfire staff","slug":"soulfire-staff","guide":350000,"buy":0,"sell":0,"cat":"magic_weapons","img":""},{"name":"Death Guard","slug":"death-guard","guide":30000,"buy":0,"sell":0,"cat":"necro_weapons","img":""},{"name":"Spectral scythe","slug":"spectral-scythe","guide":65000,"buy":0,"sell":0,"cat":"necro_weapons","img":""},{"name":"Deathwarden staff","slug":"deathwarden-staff","guide":200000,"buy":0,"sell":0,"cat":"necro_weapons","img":""},{"name":"Netharis's Grasp","slug":"nethariss-grasp","guide":400000,"buy":0,"sell":0,"cat":"necro_weapons","img":""},{"name":"Rune sq shield","slug":"rune-sq-shield","guide":8000,"buy":0,"sell":0,"cat":"melee_weapons","img":"../images/items/rune%20sq%20shield.png"},{"name":"Skull Lantern","slug":"skull-lantern","guide":30000,"buy":0,"sell":0,"cat":"necro_weapons","img":""},{"name":"Soulbound Grimoire","slug":"soulbound-grimoire","guide":250000,"buy":0,"sell":0,"cat":"necro_weapons","img":""},{"name":"Cindertome","slug":"cindertome","guide":200000,"buy":0,"sell":0,"cat":"magic_weapons","img":""},{"name":"Voidfire Quiver","slug":"voidfire-quiver","guide":250000,"buy":0,"sell":0,"cat":"ammo","img":""},{"name":"Rune platebody","slug":"rune-platebody","guide":12000,"buy":0,"sell":0,"cat":"armour","img":"../images/items/rune%20platebody.png"},{"name":"Rune chainbody","slug":"rune-chainbody","guide":8000,"buy":0,"sell":0,"cat":"armour","img":"../images/items/rune%20chainbody.png"},{"name":"Rune platelegs","slug":"rune-platelegs","guide":10000,"buy":0,"sell":0,"cat":"armour","img":"../images/items/rune%20platelegs.png"},{"name":"Rune full helm","slug":"rune-full-helm","guide":8000,"buy":0,"sell":0,"cat":"armour","img":"../images/items/rune%20full%20helm.png"},{"name":"Rune med helm","slug":"rune-med-helm","guide":5000,"buy":0,"sell":0,"cat":"armour","img":"../images/items/rune%20med%20helm.png"},{"name":"Dragon boots","slug":"dragon-boots","guide":35000,"buy":0,"sell":0,"cat":"armour","img":"../images/items/dragon%20boots.png"},{"name":"Dragon platebody","slug":"dragon-platebody","guide":60000,"buy":0,"sell":0,"cat":"armour","img":"../images/items/dragon%20platebody.png"},{"name":"Dragon platelegs","slug":"dragon-platelegs","guide":50000,"buy":0,"sell":0,"cat":"armour","img":"../images/items/dragon%20platelegs.png"},{"name":"Zarveth's Ascendant Platebody","slug":"zarveths-ascendant-platebody","guide":500000,"buy":0,"sell":0,"cat":"armour","img":"../images/items/Zarveths%20Ascendant%20Platebody.png"},{"name":"Zarveth's Ascendant Platelegs","slug":"zarveths-ascendant-platelegs","guide":300000,"buy":0,"sell":0,"cat":"armour","img":"../images/items/Zarveths%20Ascendant%20Platelegs.png"},{"name":"Zarveth's Ascendant Mask","slug":"zarveths-ascendant-mask","guide":250000,"buy":0,"sell":0,"cat":"armour","img":"../images/items/Zarveths%20Ascendant%20Mask.png"},{"name":"Scaleweave coif","slug":"scaleweave-coif","guide":8000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Scaleweave body","slug":"scaleweave-body","guide":12000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Scaleweave chaps","slug":"scaleweave-chaps","guide":10000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Scaleweave boots","slug":"scaleweave-boots","guide":7000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Scaleweave vambraces","slug":"scaleweave-vambraces","guide":6000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Drakescale body","slug":"drakescale-body","guide":60000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Drakescale chaps","slug":"drakescale-chaps","guide":45000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Voidfire coif","slug":"voidfire-coif","guide":120000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Voidfire body","slug":"voidfire-body","guide":280000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Voidfire chaps","slug":"voidfire-chaps","guide":220000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Voidfire boots","slug":"voidfire-boots","guide":120000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Voidfire vambraces","slug":"voidfire-vambraces","guide":100000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Thornweave helm","slug":"thornweave-helm","guide":8000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Thornweave body","slug":"thornweave-body","guide":12000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Thornweave legs","slug":"thornweave-legs","guide":10000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Thornweave boots","slug":"thornweave-boots","guide":7000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Thornweave gloves","slug":"thornweave-gloves","guide":6000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Wraithcaller's robetop","slug":"wraithcallers-robetop","guide":60000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Wraithcaller's robeskirt","slug":"wraithcallers-robeskirt","guide":45000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Soulfire hat","slug":"soulfire-hat","guide":120000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Soulfire robetop","slug":"soulfire-robetop","guide":280000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Soulfire robeskirt","slug":"soulfire-robeskirt","guide":220000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Soulfire boots","slug":"soulfire-boots","guide":120000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Soulfire gloves","slug":"soulfire-gloves","guide":100000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Ghostweave hood","slug":"ghostweave-hood","guide":8000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Ghostweave robetop","slug":"ghostweave-robetop","guide":12000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Ghostweave robeskirt","slug":"ghostweave-robeskirt","guide":10000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Ghostweave boots","slug":"ghostweave-boots","guide":7000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Ghostweave gloves","slug":"ghostweave-gloves","guide":6000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Deathwarden robetop","slug":"deathwarden-robetop","guide":80000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Deathwarden robeskirt","slug":"deathwarden-robeskirt","guide":60000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Netharis's hood","slug":"nethariss-hood","guide":150000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Netharis's robetop","slug":"nethariss-robetop","guide":320000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Netharis's robeskirt","slug":"nethariss-robeskirt","guide":250000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Netharis's boots","slug":"nethariss-boots","guide":140000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Netharis's gloves","slug":"nethariss-gloves","guide":120000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Black Mask","slug":"black-mask","guide":250000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Slayer Helmet","slug":"slayer-helmet","guide":60000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Shady Slayer Helm","slug":"shady-slayer-helm","guide":350000,"buy":0,"sell":0,"cat":"armour","img":""},{"name":"Amulet of Seeping","slug":"amulet-of-seeping","guide":30000,"buy":0,"sell":0,"cat":"accessories","img":""},{"name":"Eclipse of the Five","slug":"eclipse-of-the-five","guide":200000,"buy":0,"sell":0,"cat":"accessories","img":"../images/items/eclipse%20of%20the%20five.png"},{"name":"Ring of Valthyros","slug":"ring-of-valthyros","guide":25000,"buy":0,"sell":0,"cat":"accessories","img":""},{"name":"Shroud of the Undying","slug":"shroud-of-the-undying","guide":500000,"buy":0,"sell":0,"cat":"accessories","img":""},{"name":"Bracelet of ethereum","slug":"bracelet-of-ethereum","guide":15000,"buy":0,"sell":0,"cat":"accessories","img":""},{"name":"Wristwraps of the Damned","slug":"wristwraps-of-the-damned","guide":120000,"buy":0,"sell":0,"cat":"accessories","img":""},{"name":"Bracelet of Slayer Aggression","slug":"bracelet-of-slayer-aggression","guide":180000,"buy":0,"sell":0,"cat":"accessories","img":""},{"name":"Air rune","slug":"air-rune","guide":15,"buy":0,"sell":0,"cat":"runes","img":""},{"name":"Water rune","slug":"water-rune","guide":15,"buy":0,"sell":0,"cat":"runes","img":""},{"name":"Earth rune","slug":"earth-rune","guide":15,"buy":0,"sell":0,"cat":"runes","img":""},{"name":"Fire rune","slug":"fire-rune","guide":20,"buy":0,"sell":0,"cat":"runes","img":""},{"name":"Chaos rune","slug":"chaos-rune","guide":40,"buy":0,"sell":0,"cat":"runes","img":""},{"name":"Cosmic rune","slug":"cosmic-rune","guide":60,"buy":0,"sell":0,"cat":"runes","img":""},{"name":"Nature rune","slug":"nature-rune","guide":80,"buy":0,"sell":0,"cat":"runes","img":""},{"name":"Law rune","slug":"law-rune","guide":60,"buy":0,"sell":0,"cat":"runes","img":""},{"name":"Death rune","slug":"death-rune","guide":70,"buy":0,"sell":0,"cat":"runes","img":""},{"name":"Blood rune","slug":"blood-rune","guide":100,"buy":0,"sell":0,"cat":"runes","img":""},{"name":"Bone Rune","slug":"bone-rune","guide":120,"buy":0,"sell":0,"cat":"runes","img":""},{"name":"Bronze arrows","slug":"bronze-arrows","guide":5,"buy":0,"sell":0,"cat":"ammo","img":""},{"name":"Iron arrows","slug":"iron-arrows","guide":12,"buy":0,"sell":0,"cat":"ammo","img":""},{"name":"Steel arrows","slug":"steel-arrows","guide":25,"buy":0,"sell":0,"cat":"ammo","img":""},{"name":"Mithril arrows","slug":"mithril-arrows","guide":50,"buy":0,"sell":0,"cat":"ammo","img":""},{"name":"Adamant arrows","slug":"adamant-arrows","guide":100,"buy":0,"sell":0,"cat":"ammo","img":""},{"name":"Rune arrows","slug":"rune-arrows","guide":200,"buy":0,"sell":0,"cat":"ammo","img":""},{"name":"Dragon arrows","slug":"dragon-arrows","guide":400,"buy":0,"sell":0,"cat":"ammo","img":""},{"name":"Bone bolts","slug":"bone-bolts","guide":300,"buy":0,"sell":0,"cat":"ammo","img":""},{"name":"Pure essence","slug":"pure-essence","guide":5,"buy":0,"sell":0,"cat":"materials","img":""},{"name":"Revenant ether","slug":"revenant-ether","guide":30,"buy":0,"sell":0,"cat":"materials","img":""},{"name":"Cursed Bone","slug":"cursed-bone","guide":2000,"buy":0,"sell":0,"cat":"materials","img":""},{"name":"Abyssal ash","slug":"abyssal-ash","guide":25,"buy":0,"sell":0,"cat":"materials","img":""},{"name":"Abyssal charm","slug":"abyssal-charm","guide":30,"buy":0,"sell":0,"cat":"materials","img":""},{"name":"Cyclops Eye","slug":"cyclops-eye","guide":30,"buy":0,"sell":0,"cat":"materials","img":""},{"name":"Gold Bar","slug":"gold-bar","guide":1000,"buy":0,"sell":0,"cat":"materials","img":""},{"name":"Uncut sapphire","slug":"uncut-sapphire","guide":400,"buy":0,"sell":0,"cat":"valuables","img":""},{"name":"Uncut emerald","slug":"uncut-emerald","guide":600,"buy":0,"sell":0,"cat":"valuables","img":""},{"name":"Uncut ruby","slug":"uncut-ruby","guide":1000,"buy":0,"sell":0,"cat":"valuables","img":""},{"name":"Uncut diamond","slug":"uncut-diamond","guide":1600,"buy":0,"sell":0,"cat":"valuables","img":""},{"name":"Uncut dragonstone","slug":"uncut-dragonstone","guide":3500,"buy":0,"sell":0,"cat":"valuables","img":""},{"name":"Sapphire","slug":"sapphire","guide":800,"buy":0,"sell":0,"cat":"materials","img":""},{"name":"Emerald","slug":"emerald","guide":1200,"buy":0,"sell":0,"cat":"materials","img":""},{"name":"Ruby","slug":"ruby","guide":2000,"buy":0,"sell":0,"cat":"materials","img":""},{"name":"Diamond","slug":"diamond","guide":3200,"buy":0,"sell":0,"cat":"materials","img":""},{"name":"Dragonstone","slug":"dragonstone","guide":7000,"buy":0,"sell":0,"cat":"materials","img":""},{"name":"Omnigem","slug":"omnigem","guide":25000,"buy":0,"sell":0,"cat":"materials","img":""},{"name":"Omnigem Amulet","slug":"omnigem-amulet","guide":40000,"buy":0,"sell":0,"cat":"materials","img":"../images/items/omnigem%20amulet.png"},{"name":"Mysterious key","slug":"mysterious-key","guide":30000,"buy":0,"sell":0,"cat":"valuables","img":""},{"name":"Bone key","slug":"bone-key","guide":25000,"buy":0,"sell":0,"cat":"valuables","img":""},{"name":"Revenant Relic Shard","slug":"revenant-relic-shard","guide":40000,"buy":0,"sell":0,"cat":"materials","img":""},{"name":"Revenant Totem","slug":"revenant-totem","guide":100000,"buy":0,"sell":0,"cat":"materials","img":""},{"name":"Overlord core fragment","slug":"overlord-core-fragment","guide":300000,"buy":0,"sell":0,"cat":"materials","img":""},{"name":"Ancient Emblem","slug":"ancient-emblem","guide":500000,"buy":0,"sell":0,"cat":"valuables","img":""},{"name":"Shadow Veil","slug":"shadow-veil","guide":200000,"buy":0,"sell":0,"cat":"valuables","img":""},{"name":"Strength (4)","slug":"strength-4","guide":5000,"buy":0,"sell":0,"cat":"potions","img":""},{"name":"Strength (3)","slug":"strength-3","guide":3750,"buy":0,"sell":0,"cat":"potions","img":""},{"name":"Strength (2)","slug":"strength-2","guide":2500,"buy":0,"sell":0,"cat":"potions","img":""},{"name":"Strength (1)","slug":"strength-1","guide":1250,"buy":0,"sell":0,"cat":"potions","img":""},{"name":"Super Strength (4)","slug":"super-strength-4","guide":10000,"buy":0,"sell":0,"cat":"potions","img":""},{"name":"Super Strength (3)","slug":"super-strength-3","guide":7500,"buy":0,"sell":0,"cat":"potions","img":""},{"name":"Super Strength (2)","slug":"super-strength-2","guide":5000,"buy":0,"sell":0,"cat":"potions","img":""},{"name":"Super Strength (1)","slug":"super-strength-1","guide":2500,"buy":0,"sell":0,"cat":"potions","img":""},{"name":"Lobster","slug":"lobster","guide":0,"buy":0,"sell":0,"cat":"food","img":""},{"name":"Shark","slug":"shark","guide":0,"buy":0,"sell":0,"cat":"food","img":""},{"name":"Manta Ray","slug":"manta-ray","guide":0,"buy":0,"sell":0,"cat":"food","img":""},{"name":"Anglerfish","slug":"anglerfish","guide":0,"buy":0,"sell":0,"cat":"food","img":""},{"name":"Veilfruit","slug":"veilfruit","guide":0,"buy":0,"sell":0,"cat":"food","img":""}];
    var tbody = document.getElementById("ge-tbody");
    var searchInput = document.getElementById("ge-search");
    var suggestions = document.getElementById("ge-suggestions");
    var summaryEl = document.getElementById("ge-summary");
    var activeCat = "all";
    var searchQuery = "";

    function formatCoins(n) {
      if (!n || n === 0) return "—";
      return n.toLocaleString() + " gp";
    }

    function renderTable() {
      var q = searchQuery.toLowerCase().trim();
      var words = q ? q.split(/\s+/) : [];
      var filtered = [];

      for (var i = 0; i < ITEMS.length; i++) {
        var item = ITEMS[i];
        if (activeCat !== "all" && item.cat !== activeCat) continue;
        if (words.length > 0) {
          var name = item.name.toLowerCase();
          var match = true;
          for (var w = 0; w < words.length; w++) {
            if (name.indexOf(words[w]) < 0) { match = false; break; }
          }
          if (!match) continue;
        }
        filtered.push(item);
      }

      // Sort: items with offers first, then by value descending
      filtered.sort(function(a, b) {
        var aHas = (a.buy > 0 || a.sell > 0) ? 1 : 0;
        var bHas = (b.buy > 0 || b.sell > 0) ? 1 : 0;
        if (bHas !== aHas) return bHas - aHas;
        return b.guide - a.guide;
      });

      summaryEl.textContent = filtered.length + " item" + (filtered.length !== 1 ? "s" : "") + " found";

      var html = "";
      for (var j = 0; j < filtered.length; j++) {
        var it = filtered[j];
        var imgTag = it.img ? '<img src="' + it.img + '" alt="" class="ge-row-img">' : '';
        html += '<tr class="ge-row" onclick="window.location.href=\'../items/' + it.slug + '.html\'">' +
          '<td class="ge-cell-item">' + imgTag + '<a href="../items/' + it.slug + '.html">' + it.name + '</a></td>' +
          '<td class="ge-cell-price">' + formatCoins(it.guide) + '</td>' +
          '<td class="ge-cell-price ge-buy">' + formatCoins(it.buy) + '</td>' +
          '<td class="ge-cell-price ge-sell">' + formatCoins(it.sell) + '</td>' +
          '</tr>';
      }
      tbody.innerHTML = html;
    }

    // Search input
    searchInput.addEventListener("input", function() {
      searchQuery = this.value;
      renderSuggestions();
      renderTable();
    });

    function renderSuggestions() {
      var q = searchQuery.toLowerCase().trim();
      if (!q) { suggestions.style.display = "none"; return; }
      var words = q.split(/\s+/);
      var matches = [];
      for (var i = 0; i < ITEMS.length; i++) {
        var name = ITEMS[i].name.toLowerCase();
        var score = 0;
        if (name === q) score += 100;
        else if (name.indexOf(q) === 0) score += 60;
        else if (name.indexOf(q) >= 0) score += 40;
        for (var w = 0; w < words.length; w++) {
          if (name.indexOf(words[w]) >= 0) score += 10;
        }
        if (score > 0) matches.push({ idx: i, score: score });
      }
      matches.sort(function(a, b) { return b.score - a.score; });
      matches = matches.slice(0, 8);

      if (matches.length === 0) { suggestions.style.display = "none"; return; }
      var html = "";
      for (var m = 0; m < matches.length; m++) {
        var it = ITEMS[matches[m].idx];
        html += '<a class="ge-suggestion" href="../items/' + it.slug + '.html" data-name="' + it.name + '">' + it.name +
          '<span class="ge-suggestion-price">' + formatCoins(it.guide) + '</span></a>';
      }
      suggestions.innerHTML = html;
      suggestions.style.display = "block";

      // Click suggestion to filter
      var links = suggestions.querySelectorAll(".ge-suggestion");
      for (var l = 0; l < links.length; l++) {
        links[l].addEventListener("click", function(e) {
          e.preventDefault();
          searchInput.value = this.getAttribute("data-name");
          searchQuery = searchInput.value;
          suggestions.style.display = "none";
          renderTable();
        });
      }
    }

    searchInput.addEventListener("focus", function() {
      if (this.value) renderSuggestions();
    });

    // Close suggestions on outside click
    document.addEventListener("click", function(e) {
      if (!document.querySelector(".ge-search-wrapper").contains(e.target)) {
        suggestions.style.display = "none";
      }
    });

    // Keyboard nav for suggestions
    searchInput.addEventListener("keydown", function(e) {
      var items = suggestions.querySelectorAll(".ge-suggestion");
      var active = suggestions.querySelector(".ge-suggestion.active");
      var idx = -1;
      for (var i = 0; i < items.length; i++) {
        if (items[i] === active) { idx = i; break; }
      }
      if (e.key === "ArrowDown") {
        e.preventDefault();
        if (active) active.classList.remove("active");
        idx = (idx + 1) % items.length;
        items[idx].classList.add("active");
      } else if (e.key === "ArrowUp") {
        e.preventDefault();
        if (active) active.classList.remove("active");
        idx = idx <= 0 ? items.length - 1 : idx - 1;
        items[idx].classList.add("active");
      } else if (e.key === "Enter") {
        if (active) {
          e.preventDefault();
          searchInput.value = active.getAttribute("data-name");
          searchQuery = searchInput.value;
          suggestions.style.display = "none";
          renderTable();
        }
      } else if (e.key === "Escape") {
        suggestions.style.display = "none";
      }
    });

    // Category filter buttons
    var btns = document.querySelectorAll(".ge-filter-btn");
    for (var b = 0; b < btns.length; b++) {
      btns[b].addEventListener("click", function() {
        for (var x = 0; x < btns.length; x++) btns[x].classList.remove("active");
        this.classList.add("active");
        activeCat = this.getAttribute("data-cat");
        renderTable();
      });
    }

    // Initial render
    renderTable();
  })();
  </script>
</body>
</html>
